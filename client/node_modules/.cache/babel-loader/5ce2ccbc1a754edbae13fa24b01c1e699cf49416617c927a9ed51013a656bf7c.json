{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{getFormSubmissions,updateFormSubmission}from'../../services/formSubmissionsService';import{getProgrammerById,updateProgrammer}from'../../services/programmersService';import'./FormValidationList.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FormValidationList=()=>{const[formSubmissions,setFormSubmissions]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedForm,setSelectedForm]=useState(null);const[showModal,setShowModal]=useState(false);const[processingAction,setProcessingAction]=useState(false);useEffect(()=>{const fetchFormSubmissions=async()=>{try{setLoading(true);const data=await getFormSubmissions();setFormSubmissions(data);setLoading(false);}catch(err){console.error(\"Erreur lors de la récupération des formulaires:\",err);setError(err.message);setLoading(false);}};fetchFormSubmissions();},[]);const handleViewForm=form=>{setSelectedForm(form);setShowModal(true);};const closeModal=()=>{setSelectedForm(null);setShowModal(false);};const formatDate=timestamp=>{if(!timestamp)return'Date inconnue';const date=timestamp instanceof Date?timestamp:new Date(timestamp.seconds?timestamp.seconds*1000:timestamp);return date.toLocaleDateString('fr-FR',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit'});};const handleIntegrateData=async(formData,programmerId)=>{try{setProcessingAction(true);// 1. Récupérer les données actuelles du programmateur\nconst programmer=await getProgrammerById(programmerId);if(!programmer){throw new Error('Programmateur non trouvé');}// 2. Préparer les données à mettre à jour\nconst updatedData={...programmer,businessName:formData.businessName||programmer.businessName,contact:formData.contact||programmer.contact,role:formData.role||programmer.role,address:formData.address||programmer.address,venue:formData.venue||programmer.venue,vatNumber:formData.vatNumber||programmer.vatNumber,siret:formData.siret||programmer.siret,email:formData.email||programmer.email,phone:formData.phone||programmer.phone,website:formData.website||programmer.website};// 3. Mettre à jour le programmateur\nawait updateProgrammer(programmerId,updatedData);// 4. Marquer le formulaire comme traité\nawait updateFormSubmission(formData.id,{status:'processed',processedAt:new Date()});// 5. Mettre à jour l'état local\nsetFormSubmissions(prevForms=>prevForms.map(form=>form.id===formData.id?{...form,status:'processed',processedAt:new Date()}:form));// 6. Fermer le modal\ncloseModal();setProcessingAction(false);// Afficher un message de succès\nalert('Les données ont été intégrées avec succès à la fiche du programmateur.');}catch(err){console.error(\"Erreur lors de l'intégration des données:\",err);setError(err.message);setProcessingAction(false);alert(`Erreur lors de l'intégration des données: ${err.message}`);}};const handleRejectForm=async formId=>{try{setProcessingAction(true);// Marquer le formulaire comme rejeté\nawait updateFormSubmission(formId,{status:'rejected',processedAt:new Date()});// Mettre à jour l'état local\nsetFormSubmissions(prevForms=>prevForms.map(form=>form.id===formId?{...form,status:'rejected',processedAt:new Date()}:form));// Fermer le modal\ncloseModal();setProcessingAction(false);// Afficher un message de succès\nalert('Le formulaire a été rejeté.');}catch(err){console.error(\"Erreur lors du rejet du formulaire:\",err);setError(err.message);setProcessingAction(false);alert(`Erreur lors du rejet du formulaire: ${err.message}`);}};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Chargement des formulaires...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[\"Erreur: \",error]});return/*#__PURE__*/_jsxs(\"div\",{className:\"form-validation-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-validation-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Validation des Formulaires\"}),/*#__PURE__*/_jsx(\"div\",{className:\"header-actions\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"refresh-button\",onClick:()=>window.location.reload(),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sync-alt\"}),\" Rafra\\xEEchir\"]})})]}),formSubmissions.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"no-results\",children:\"Aucun formulaire en attente de validation.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"form-submissions-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"form-submissions-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date de soumission\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Programmateur\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Raison sociale\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Contact\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Statut\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:formSubmissions.map(form=>/*#__PURE__*/_jsxs(\"tr\",{className:form.status==='pending'?'pending-row':'',children:[/*#__PURE__*/_jsx(\"td\",{children:formatDate(form.submittedAt)}),/*#__PURE__*/_jsx(\"td\",{children:form.programmerId?form.programmerName:'Non associé'}),/*#__PURE__*/_jsx(\"td\",{children:form.businessName||'Non spécifié'}),/*#__PURE__*/_jsx(\"td\",{children:form.contact||'Non spécifié'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:`status-badge status-${form.status}`,children:[form.status==='pending'&&'En attente',form.status==='processed'&&'Traité',form.status==='rejected'&&'Rejeté']})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"button\",{className:\"view-form-btn\",onClick:()=>handleViewForm(form),disabled:form.status!=='pending',children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\"}),\" Voir\"]})})]},form.id))})]})}),showModal&&selectedForm&&/*#__PURE__*/_jsx(\"div\",{className:\"form-modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"D\\xE9tails du formulaire\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-modal-btn\",onClick:closeModal,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-data-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Informations soumises\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-data-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-data-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"form-data-label\",children:\"Raison sociale:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form-data-value\",children:selectedForm.businessName||'Non spécifié'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-data-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"form-data-label\",children:\"Contact:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form-data-value\",children:selectedForm.contact||'Non spécifié'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-data-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"form-data-label\",children:\"Qualit\\xE9:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form-data-value\",children:selectedForm.role||'Non spécifié'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-data-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"form-data-label\",children:\"Adresse:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form-data-value\",children:selectedForm.address||'Non spécifié'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-data-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"form-data-label\",children:\"Lieu/Festival:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form-data-value\",children:selectedForm.venue||'Non spécifié'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-data-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"form-data-label\",children:\"N\\xB0 intracommunautaire:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form-data-value\",children:selectedForm.vatNumber||'Non spécifié'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-data-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"form-data-label\",children:\"SIRET:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form-data-value\",children:selectedForm.siret||'Non spécifié'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-data-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"form-data-label\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form-data-value\",children:selectedForm.email||'Non spécifié'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-data-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"form-data-label\",children:\"T\\xE9l\\xE9phone:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form-data-value\",children:selectedForm.phone||'Non spécifié'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-data-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"form-data-label\",children:\"Site web:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form-data-value\",children:selectedForm.website?/*#__PURE__*/_jsx(\"a\",{href:selectedForm.website,target:\"_blank\",rel:\"noopener noreferrer\",children:selectedForm.website}):'Non spécifié'})]})]})]}),selectedForm.programmerId&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-action-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"integrate-data-btn\",onClick:()=>handleIntegrateData(selectedForm,selectedForm.programmerId),disabled:processingAction,children:processingAction?'Traitement...':'Intégrer les données'}),/*#__PURE__*/_jsx(\"button\",{className:\"reject-form-btn\",onClick:()=>handleRejectForm(selectedForm.id),disabled:processingAction,children:processingAction?'Traitement...':'Rejeter le formulaire'})]})]}),!selectedForm.programmerId&&/*#__PURE__*/_jsx(\"div\",{className:\"form-warning-section\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"warning-text\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle\"}),\"Ce formulaire n'est pas associ\\xE9 \\xE0 un programmateur existant.\"]})})]})]})})]});};export default FormValidationList;","map":{"version":3,"names":["React","useState","useEffect","Link","getFormSubmissions","updateFormSubmission","getProgrammerById","updateProgrammer","jsx","_jsx","jsxs","_jsxs","FormValidationList","formSubmissions","setFormSubmissions","loading","setLoading","error","setError","selectedForm","setSelectedForm","showModal","setShowModal","processingAction","setProcessingAction","fetchFormSubmissions","data","err","console","message","handleViewForm","form","closeModal","formatDate","timestamp","date","Date","seconds","toLocaleDateString","day","month","year","hour","minute","handleIntegrateData","formData","programmerId","programmer","Error","updatedData","businessName","contact","role","address","venue","vatNumber","siret","email","phone","website","id","status","processedAt","prevForms","map","alert","handleRejectForm","formId","className","children","onClick","window","location","reload","length","submittedAt","programmerName","disabled","href","target","rel"],"sources":["/workspaces/app-booking/client/src/components/formValidation/FormValidationList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getFormSubmissions, updateFormSubmission } from '../../services/formSubmissionsService';\nimport { getProgrammerById, updateProgrammer } from '../../services/programmersService';\nimport './FormValidationList.css';\n\nconst FormValidationList = () => {\n  const [formSubmissions, setFormSubmissions] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedForm, setSelectedForm] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [processingAction, setProcessingAction] = useState(false);\n\n  useEffect(() => {\n    const fetchFormSubmissions = async () => {\n      try {\n        setLoading(true);\n        const data = await getFormSubmissions();\n        setFormSubmissions(data);\n        setLoading(false);\n      } catch (err) {\n        console.error(\"Erreur lors de la récupération des formulaires:\", err);\n        setError(err.message);\n        setLoading(false);\n      }\n    };\n\n    fetchFormSubmissions();\n  }, []);\n\n  const handleViewForm = (form) => {\n    setSelectedForm(form);\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setSelectedForm(null);\n    setShowModal(false);\n  };\n\n  const formatDate = (timestamp) => {\n    if (!timestamp) return 'Date inconnue';\n    \n    const date = timestamp instanceof Date \n      ? timestamp \n      : new Date(timestamp.seconds ? timestamp.seconds * 1000 : timestamp);\n    \n    return date.toLocaleDateString('fr-FR', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const handleIntegrateData = async (formData, programmerId) => {\n    try {\n      setProcessingAction(true);\n      \n      // 1. Récupérer les données actuelles du programmateur\n      const programmer = await getProgrammerById(programmerId);\n      \n      if (!programmer) {\n        throw new Error('Programmateur non trouvé');\n      }\n      \n      // 2. Préparer les données à mettre à jour\n      const updatedData = {\n        ...programmer,\n        businessName: formData.businessName || programmer.businessName,\n        contact: formData.contact || programmer.contact,\n        role: formData.role || programmer.role,\n        address: formData.address || programmer.address,\n        venue: formData.venue || programmer.venue,\n        vatNumber: formData.vatNumber || programmer.vatNumber,\n        siret: formData.siret || programmer.siret,\n        email: formData.email || programmer.email,\n        phone: formData.phone || programmer.phone,\n        website: formData.website || programmer.website\n      };\n      \n      // 3. Mettre à jour le programmateur\n      await updateProgrammer(programmerId, updatedData);\n      \n      // 4. Marquer le formulaire comme traité\n      await updateFormSubmission(formData.id, {\n        status: 'processed',\n        processedAt: new Date()\n      });\n      \n      // 5. Mettre à jour l'état local\n      setFormSubmissions(prevForms => \n        prevForms.map(form => \n          form.id === formData.id \n            ? { ...form, status: 'processed', processedAt: new Date() } \n            : form\n        )\n      );\n      \n      // 6. Fermer le modal\n      closeModal();\n      setProcessingAction(false);\n      \n      // Afficher un message de succès\n      alert('Les données ont été intégrées avec succès à la fiche du programmateur.');\n      \n    } catch (err) {\n      console.error(\"Erreur lors de l'intégration des données:\", err);\n      setError(err.message);\n      setProcessingAction(false);\n      alert(`Erreur lors de l'intégration des données: ${err.message}`);\n    }\n  };\n\n  const handleRejectForm = async (formId) => {\n    try {\n      setProcessingAction(true);\n      \n      // Marquer le formulaire comme rejeté\n      await updateFormSubmission(formId, {\n        status: 'rejected',\n        processedAt: new Date()\n      });\n      \n      // Mettre à jour l'état local\n      setFormSubmissions(prevForms => \n        prevForms.map(form => \n          form.id === formId \n            ? { ...form, status: 'rejected', processedAt: new Date() } \n            : form\n        )\n      );\n      \n      // Fermer le modal\n      closeModal();\n      setProcessingAction(false);\n      \n      // Afficher un message de succès\n      alert('Le formulaire a été rejeté.');\n      \n    } catch (err) {\n      console.error(\"Erreur lors du rejet du formulaire:\", err);\n      setError(err.message);\n      setProcessingAction(false);\n      alert(`Erreur lors du rejet du formulaire: ${err.message}`);\n    }\n  };\n\n  if (loading) return <div className=\"loading\">Chargement des formulaires...</div>;\n  if (error) return <div className=\"error-message\">Erreur: {error}</div>;\n\n  return (\n    <div className=\"form-validation-container\">\n      <div className=\"form-validation-header\">\n        <h2>Validation des Formulaires</h2>\n        <div className=\"header-actions\">\n          <button \n            className=\"refresh-button\"\n            onClick={() => window.location.reload()}\n          >\n            <i className=\"fas fa-sync-alt\"></i> Rafraîchir\n          </button>\n        </div>\n      </div>\n      \n      {formSubmissions.length === 0 ? (\n        <p className=\"no-results\">Aucun formulaire en attente de validation.</p>\n      ) : (\n        <div className=\"form-submissions-table-container\">\n          <table className=\"form-submissions-table\">\n            <thead>\n              <tr>\n                <th>Date de soumission</th>\n                <th>Programmateur</th>\n                <th>Raison sociale</th>\n                <th>Contact</th>\n                <th>Statut</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {formSubmissions.map((form) => (\n                <tr key={form.id} className={form.status === 'pending' ? 'pending-row' : ''}>\n                  <td>{formatDate(form.submittedAt)}</td>\n                  <td>{form.programmerId ? form.programmerName : 'Non associé'}</td>\n                  <td>{form.businessName || 'Non spécifié'}</td>\n                  <td>{form.contact || 'Non spécifié'}</td>\n                  <td>\n                    <span className={`status-badge status-${form.status}`}>\n                      {form.status === 'pending' && 'En attente'}\n                      {form.status === 'processed' && 'Traité'}\n                      {form.status === 'rejected' && 'Rejeté'}\n                    </span>\n                  </td>\n                  <td>\n                    <button \n                      className=\"view-form-btn\"\n                      onClick={() => handleViewForm(form)}\n                      disabled={form.status !== 'pending'}\n                    >\n                      <i className=\"fas fa-eye\"></i> Voir\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n      \n      {/* Modal pour afficher les détails du formulaire */}\n      {showModal && selectedForm && (\n        <div className=\"form-modal-overlay\">\n          <div className=\"form-modal\">\n            <div className=\"form-modal-header\">\n              <h3>Détails du formulaire</h3>\n              <button className=\"close-modal-btn\" onClick={closeModal}>\n                <i className=\"fas fa-times\"></i>\n              </button>\n            </div>\n            \n            <div className=\"form-modal-content\">\n              <div className=\"form-data-section\">\n                <h4>Informations soumises</h4>\n                \n                <div className=\"form-data-grid\">\n                  <div className=\"form-data-item\">\n                    <span className=\"form-data-label\">Raison sociale:</span>\n                    <span className=\"form-data-value\">{selectedForm.businessName || 'Non spécifié'}</span>\n                  </div>\n                  \n                  <div className=\"form-data-item\">\n                    <span className=\"form-data-label\">Contact:</span>\n                    <span className=\"form-data-value\">{selectedForm.contact || 'Non spécifié'}</span>\n                  </div>\n                  \n                  <div className=\"form-data-item\">\n                    <span className=\"form-data-label\">Qualité:</span>\n                    <span className=\"form-data-value\">{selectedForm.role || 'Non spécifié'}</span>\n                  </div>\n                  \n                  <div className=\"form-data-item\">\n                    <span className=\"form-data-label\">Adresse:</span>\n                    <span className=\"form-data-value\">{selectedForm.address || 'Non spécifié'}</span>\n                  </div>\n                  \n                  <div className=\"form-data-item\">\n                    <span className=\"form-data-label\">Lieu/Festival:</span>\n                    <span className=\"form-data-value\">{selectedForm.venue || 'Non spécifié'}</span>\n                  </div>\n                  \n                  <div className=\"form-data-item\">\n                    <span className=\"form-data-label\">N° intracommunautaire:</span>\n                    <span className=\"form-data-value\">{selectedForm.vatNumber || 'Non spécifié'}</span>\n                  </div>\n                  \n                  <div className=\"form-data-item\">\n                    <span className=\"form-data-label\">SIRET:</span>\n                    <span className=\"form-data-value\">{selectedForm.siret || 'Non spécifié'}</span>\n                  </div>\n                  \n                  <div className=\"form-data-item\">\n                    <span className=\"form-data-label\">Email:</span>\n                    <span className=\"form-data-value\">{selectedForm.email || 'Non spécifié'}</span>\n                  </div>\n                  \n                  <div className=\"form-data-item\">\n                    <span className=\"form-data-label\">Téléphone:</span>\n                    <span className=\"form-data-value\">{selectedForm.phone || 'Non spécifié'}</span>\n                  </div>\n                  \n                  <div className=\"form-data-item\">\n                    <span className=\"form-data-label\">Site web:</span>\n                    <span className=\"form-data-value\">\n                      {selectedForm.website ? (\n                        <a href={selectedForm.website} target=\"_blank\" rel=\"noopener noreferrer\">\n                          {selectedForm.website}\n                        </a>\n                      ) : 'Non spécifié'}\n                    </span>\n                  </div>\n                </div>\n              </div>\n              \n              {selectedForm.programmerId && (\n                <div className=\"form-actions-section\">\n                  <h4>Actions</h4>\n                  <div className=\"form-action-buttons\">\n                    <button \n                      className=\"integrate-data-btn\"\n                      onClick={() => handleIntegrateData(selectedForm, selectedForm.programmerId)}\n                      disabled={processingAction}\n                    >\n                      {processingAction ? 'Traitement...' : 'Intégrer les données'}\n                    </button>\n                    <button \n                      className=\"reject-form-btn\"\n                      onClick={() => handleRejectForm(selectedForm.id)}\n                      disabled={processingAction}\n                    >\n                      {processingAction ? 'Traitement...' : 'Rejeter le formulaire'}\n                    </button>\n                  </div>\n                </div>\n              )}\n              \n              {!selectedForm.programmerId && (\n                <div className=\"form-warning-section\">\n                  <p className=\"warning-text\">\n                    <i className=\"fas fa-exclamation-triangle\"></i>\n                    Ce formulaire n'est pas associé à un programmateur existant.\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FormValidationList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}