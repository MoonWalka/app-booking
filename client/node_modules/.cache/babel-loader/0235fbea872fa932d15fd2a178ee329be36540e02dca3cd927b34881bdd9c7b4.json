{"ast":null,"code":"// client/src/components/programmers/ProgrammerDetail.jsx\nimport React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProgrammerDetail=()=>{const{id}=useParams();const navigate=useNavigate();const[programmer,setProgrammer]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchProgrammer=async()=>{try{setLoading(true);const response=await fetch(`/api/programmers/${id}`);if(!response.ok){throw new Error('Erreur lors de la récupération des détails du programmateur');}const data=await response.json();setProgrammer(data);setLoading(false);}catch(err){setError(err.message);setLoading(false);}};fetchProgrammer();},[id]);const handleDelete=async()=>{if(window.confirm('Êtes-vous sûr de vouloir supprimer ce programmateur ?')){try{const response=await fetch(`/api/programmers/${id}`,{method:'DELETE'});if(!response.ok){throw new Error('Erreur lors de la suppression du programmateur');}navigate('/programmateurs');}catch(err){setError(err.message);}}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Chargement des d\\xE9tails du programmateur...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Erreur: \",error]});if(!programmer)return/*#__PURE__*/_jsx(\"div\",{children:\"Programmateur non trouv\\xE9\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"programmer-detail-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:programmer.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"programmer-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Salle/Festival:\"}),\" \",programmer.venue]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ville:\"}),\" \",programmer.city]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",programmer.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\xE9l\\xE9phone:\"}),\" \",programmer.phone]}),programmer.website&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Site web:\"}),' ',/*#__PURE__*/_jsx(\"a\",{href:programmer.website,target:\"_blank\",rel:\"noopener noreferrer\",children:programmer.website})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Notes:\"}),\" \",programmer.notes||'Aucune note']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"programmer-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(`/programmateurs/modifier/${id}`),className:\"edit-btn\",children:\"Modifier\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"delete-btn\",children:\"Supprimer\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/programmateurs'),className:\"back-btn\",children:\"Retour \\xE0 la liste\"})]})]});};export default ProgrammerDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","ProgrammerDetail","id","navigate","programmer","setProgrammer","loading","setLoading","error","setError","fetchProgrammer","response","fetch","ok","Error","data","json","err","message","handleDelete","window","confirm","method","children","className","name","venue","city","email","phone","website","href","target","rel","notes","onClick"],"sources":["/workspaces/app-booking/client/src/components/programmers/ProgrammerDetail.jsx"],"sourcesContent":["// client/src/components/programmers/ProgrammerDetail.jsx\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\n\nconst ProgrammerDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [programmer, setProgrammer] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchProgrammer = async () => {\n      try {\n        setLoading(true);\n        const response = await fetch(`/api/programmers/${id}`);\n        if (!response.ok) {\n          throw new Error('Erreur lors de la récupération des détails du programmateur');\n        }\n        const data = await response.json();\n        setProgrammer(data);\n        setLoading(false);\n      } catch (err) {\n        setError(err.message);\n        setLoading(false);\n      }\n    };\n\n    fetchProgrammer();\n  }, [id]);\n\n  const handleDelete = async () => {\n    if (window.confirm('Êtes-vous sûr de vouloir supprimer ce programmateur ?')) {\n      try {\n        const response = await fetch(`/api/programmers/${id}`, {\n          method: 'DELETE',\n        });\n        if (!response.ok) {\n          throw new Error('Erreur lors de la suppression du programmateur');\n        }\n        navigate('/programmateurs');\n      } catch (err) {\n        setError(err.message);\n      }\n    }\n  };\n\n  if (loading) return <div>Chargement des détails du programmateur...</div>;\n  if (error) return <div>Erreur: {error}</div>;\n  if (!programmer) return <div>Programmateur non trouvé</div>;\n\n  return (\n    <div className=\"programmer-detail-container\">\n      <h2>{programmer.name}</h2>\n      <div className=\"programmer-info\">\n        <p><strong>Salle/Festival:</strong> {programmer.venue}</p>\n        <p><strong>Ville:</strong> {programmer.city}</p>\n        <p><strong>Email:</strong> {programmer.email}</p>\n        <p><strong>Téléphone:</strong> {programmer.phone}</p>\n        {programmer.website && (\n          <p>\n            <strong>Site web:</strong>{' '}\n            <a href={programmer.website} target=\"_blank\" rel=\"noopener noreferrer\">\n              {programmer.website}\n            </a>\n          </p>\n        )}\n        <p><strong>Notes:</strong> {programmer.notes || 'Aucune note'}</p>\n      </div>\n\n      <div className=\"programmer-actions\">\n        <button\n          onClick={() => navigate(`/programmateurs/modifier/${id}`)}\n          className=\"edit-btn\"\n        >\n          Modifier\n        </button>\n        <button onClick={handleDelete} className=\"delete-btn\">\n          Supprimer\n        </button>\n        <button onClick={() => navigate('/programmateurs')} className=\"back-btn\">\n          Retour à la liste\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ProgrammerDetail;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1D,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAEC,EAAG,CAAC,CAAGP,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAQ,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,UAAU,CAAEC,aAAa,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAgB,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACFH,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAI,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oBAAoBV,EAAE,EAAE,CAAC,CACtD,GAAI,CAACS,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,6DAA6D,CAAC,CAChF,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAClCX,aAAa,CAACU,IAAI,CAAC,CACnBR,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAOU,GAAG,CAAE,CACZR,QAAQ,CAACQ,GAAG,CAACC,OAAO,CAAC,CACrBX,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDG,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,CAACR,EAAE,CAAC,CAAC,CAER,KAAM,CAAAiB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAIC,MAAM,CAACC,OAAO,CAAC,uDAAuD,CAAC,CAAE,CAC3E,GAAI,CACF,KAAM,CAAAV,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oBAAoBV,EAAE,EAAE,CAAE,CACrDoB,MAAM,CAAE,QACV,CAAC,CAAC,CACF,GAAI,CAACX,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,gDAAgD,CAAC,CACnE,CACAX,QAAQ,CAAC,iBAAiB,CAAC,CAC7B,CAAE,MAAOc,GAAG,CAAE,CACZR,QAAQ,CAACQ,GAAG,CAACC,OAAO,CAAC,CACvB,CACF,CACF,CAAC,CAED,GAAIZ,OAAO,CAAE,mBAAOR,IAAA,QAAAyB,QAAA,CAAK,+CAA0C,CAAK,CAAC,CACzE,GAAIf,KAAK,CAAE,mBAAOR,KAAA,QAAAuB,QAAA,EAAK,UAAQ,CAACf,KAAK,EAAM,CAAC,CAC5C,GAAI,CAACJ,UAAU,CAAE,mBAAON,IAAA,QAAAyB,QAAA,CAAK,6BAAwB,CAAK,CAAC,CAE3D,mBACEvB,KAAA,QAAKwB,SAAS,CAAC,6BAA6B,CAAAD,QAAA,eAC1CzB,IAAA,OAAAyB,QAAA,CAAKnB,UAAU,CAACqB,IAAI,CAAK,CAAC,cAC1BzB,KAAA,QAAKwB,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9BvB,KAAA,MAAAuB,QAAA,eAAGzB,IAAA,WAAAyB,QAAA,CAAQ,iBAAe,CAAQ,CAAC,IAAC,CAACnB,UAAU,CAACsB,KAAK,EAAI,CAAC,cAC1D1B,KAAA,MAAAuB,QAAA,eAAGzB,IAAA,WAAAyB,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAACnB,UAAU,CAACuB,IAAI,EAAI,CAAC,cAChD3B,KAAA,MAAAuB,QAAA,eAAGzB,IAAA,WAAAyB,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAACnB,UAAU,CAACwB,KAAK,EAAI,CAAC,cACjD5B,KAAA,MAAAuB,QAAA,eAAGzB,IAAA,WAAAyB,QAAA,CAAQ,kBAAU,CAAQ,CAAC,IAAC,CAACnB,UAAU,CAACyB,KAAK,EAAI,CAAC,CACpDzB,UAAU,CAAC0B,OAAO,eACjB9B,KAAA,MAAAuB,QAAA,eACEzB,IAAA,WAAAyB,QAAA,CAAQ,WAAS,CAAQ,CAAC,CAAC,GAAG,cAC9BzB,IAAA,MAAGiC,IAAI,CAAE3B,UAAU,CAAC0B,OAAQ,CAACE,MAAM,CAAC,QAAQ,CAACC,GAAG,CAAC,qBAAqB,CAAAV,QAAA,CACnEnB,UAAU,CAAC0B,OAAO,CAClB,CAAC,EACH,CACJ,cACD9B,KAAA,MAAAuB,QAAA,eAAGzB,IAAA,WAAAyB,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAACnB,UAAU,CAAC8B,KAAK,EAAI,aAAa,EAAI,CAAC,EAC/D,CAAC,cAENlC,KAAA,QAAKwB,SAAS,CAAC,oBAAoB,CAAAD,QAAA,eACjCzB,IAAA,WACEqC,OAAO,CAAEA,CAAA,GAAMhC,QAAQ,CAAC,4BAA4BD,EAAE,EAAE,CAAE,CAC1DsB,SAAS,CAAC,UAAU,CAAAD,QAAA,CACrB,UAED,CAAQ,CAAC,cACTzB,IAAA,WAAQqC,OAAO,CAAEhB,YAAa,CAACK,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,WAEtD,CAAQ,CAAC,cACTzB,IAAA,WAAQqC,OAAO,CAAEA,CAAA,GAAMhC,QAAQ,CAAC,iBAAiB,CAAE,CAACqB,SAAS,CAAC,UAAU,CAAAD,QAAA,CAAC,sBAEzE,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}