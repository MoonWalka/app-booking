{"ast":null,"code":"// client/src/components/concerts/ConcertsList.js\nimport React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ConcertsList=()=>{const[concerts,setConcerts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchConcerts=async()=>{try{setLoading(true);const response=await fetch('/api/concerts');if(!response.ok){throw new Error('Erreur lors de la récupération des concerts');}const data=await response.json();setConcerts(data);setLoading(false);}catch(err){setError(err.message);setLoading(false);}};fetchConcerts();},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Chargement des concerts...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Erreur: \",error]});return/*#__PURE__*/_jsxs(\"div\",{className:\"concerts-list-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Liste des Concerts\"}),concerts.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Aucun concert trouv\\xE9.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"concerts-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"concerts-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Artiste\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Lieu\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ville\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:concerts.map(concert=>{var _concert$artist;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:new Date(concert.date).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:((_concert$artist=concert.artist)===null||_concert$artist===void 0?void 0:_concert$artist.name)||'Non spécifié'}),/*#__PURE__*/_jsx(\"td\",{children:concert.venue}),/*#__PURE__*/_jsx(\"td\",{children:concert.city}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:`/concerts/${concert._id}`,className:\"view-btn\",children:\"Voir\"})})]},concert._id);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"add-concert-container\",children:/*#__PURE__*/_jsx(Link,{to:\"/concerts/nouveau\",className:\"add-concert-btn\",children:\"Ajouter un concert\"})})]});};export default ConcertsList;","map":{"version":3,"names":["React","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","ConcertsList","concerts","setConcerts","loading","setLoading","error","setError","fetchConcerts","response","fetch","ok","Error","data","json","err","message","children","className","length","map","concert","_concert$artist","Date","date","toLocaleDateString","artist","name","venue","city","to","_id"],"sources":["/workspaces/app-booking/client/src/components/concerts/ConcertsList.js"],"sourcesContent":["// client/src/components/concerts/ConcertsList.js\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst ConcertsList = () => {\n  const [concerts, setConcerts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchConcerts = async () => {\n      try {\n        setLoading(true);\n        const response = await fetch('/api/concerts');\n        if (!response.ok) {\n          throw new Error('Erreur lors de la récupération des concerts');\n        }\n        const data = await response.json();\n        setConcerts(data);\n        setLoading(false);\n      } catch (err) {\n        setError(err.message);\n        setLoading(false);\n      }\n    };\n\n    fetchConcerts();\n  }, []);\n\n  if (loading) return <div>Chargement des concerts...</div>;\n  if (error) return <div>Erreur: {error}</div>;\n\n  return (\n    <div className=\"concerts-list-container\">\n      <h2>Liste des Concerts</h2>\n      {concerts.length === 0 ? (\n        <p>Aucun concert trouvé.</p>\n      ) : (\n        <div className=\"concerts-table-container\">\n          <table className=\"concerts-table\">\n            <thead>\n              <tr>\n                <th>Date</th>\n                <th>Artiste</th>\n                <th>Lieu</th>\n                <th>Ville</th>\n                <th>Actions</th>\n              </tr>\n            </thead>\n            <tbody>\n              {concerts.map((concert) => (\n                <tr key={concert._id}>\n                  <td>{new Date(concert.date).toLocaleDateString()}</td>\n                  <td>{concert.artist?.name || 'Non spécifié'}</td>\n                  <td>{concert.venue}</td>\n                  <td>{concert.city}</td>\n                  <td>\n                    <Link to={`/concerts/${concert._id}`} className=\"view-btn\">\n                      Voir\n                    </Link>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n      <div className=\"add-concert-container\">\n        <Link to=\"/concerts/nouveau\" className=\"add-concert-btn\">\n          Ajouter un concert\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default ConcertsList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}