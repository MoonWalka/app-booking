{"ast":null,"code":"import React,{useState,useEffect}from'react';import{FaCalendarAlt,FaUsers,FaMoneyBillWave,FaChartLine}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ConcertsDashboard=_ref=>{let{concerts}=_ref;const[stats,setStats]=useState({totalConcerts:0,upcomingConcerts:0,totalRevenue:0,averageAttendance:0});useEffect(()=>{if(concerts&&concerts.length>0){// Calculer les statistiques\nconst now=new Date();const upcoming=concerts.filter(concert=>{const concertDate=new Date(concert.date);return concertDate>now;});const revenue=concerts.reduce((total,concert)=>{return total+(parseFloat(concert.amount)||0);},0);const attendance=concerts.reduce((total,concert)=>{return total+(parseInt(concert.attendance)||0);},0);setStats({totalConcerts:concerts.length,upcomingConcerts:upcoming.length,totalRevenue:revenue,averageAttendance:concerts.length>0?Math.round(attendance/concerts.length):0});}},[concerts]);// Fonction pour formater les montants en euros\nconst formatCurrency=amount=>{return new Intl.NumberFormat('fr-FR',{style:'currency',currency:'EUR'}).format(amount);};return/*#__PURE__*/_jsxs(\"div\",{className:\"concerts-dashboard\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"dashboard-title\",children:\"Tableau de bord des concerts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(FaCalendarAlt,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Concerts totaux\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-value\",children:stats.totalConcerts})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(FaCalendarAlt,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Concerts \\xE0 venir\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-value\",children:stats.upcomingConcerts})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(FaMoneyBillWave,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Revenus totaux\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-value\",children:formatCurrency(stats.totalRevenue)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:/*#__PURE__*/_jsx(FaUsers,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Audience moyenne\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stat-value\",children:stats.averageAttendance})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recent-concerts\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Concerts r\\xE9cents\"}),/*#__PURE__*/_jsx(\"div\",{className:\"concerts-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"concerts-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Artiste\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Lieu\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Montant\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Statut\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:concerts&&concerts.length>0?concerts.slice(0,5).map((concert,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:concert.artist||'Artiste inconnu'}),/*#__PURE__*/_jsx(\"td\",{children:concert.venue||'Lieu non spécifié'}),/*#__PURE__*/_jsx(\"td\",{children:concert.date||'Date non spécifiée'}),/*#__PURE__*/_jsx(\"td\",{children:formatCurrency(parseFloat(concert.amount)||0)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:`status-badge ${concert.status||'pending'}`,children:concert.status||'En attente'})})]},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"no-data\",children:\"Aucun concert trouv\\xE9\"})})})]})})]})]});};export default ConcertsDashboard;","map":{"version":3,"names":["React","useState","useEffect","FaCalendarAlt","FaUsers","FaMoneyBillWave","FaChartLine","jsx","_jsx","jsxs","_jsxs","ConcertsDashboard","_ref","concerts","stats","setStats","totalConcerts","upcomingConcerts","totalRevenue","averageAttendance","length","now","Date","upcoming","filter","concert","concertDate","date","revenue","reduce","total","parseFloat","amount","attendance","parseInt","Math","round","formatCurrency","Intl","NumberFormat","style","currency","format","className","children","slice","map","index","artist","venue","status","colSpan"],"sources":["/workspaces/app-booking/client/src/components/concerts/ConcertsDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { FaCalendarAlt, FaUsers, FaMoneyBillWave, FaChartLine } from 'react-icons/fa';\n\n\nconst ConcertsDashboard = ({ concerts }) => {\n  const [stats, setStats] = useState({\n    totalConcerts: 0,\n    upcomingConcerts: 0,\n    totalRevenue: 0,\n    averageAttendance: 0\n  });\n\n  useEffect(() => {\n    if (concerts && concerts.length > 0) {\n      // Calculer les statistiques\n      const now = new Date();\n      const upcoming = concerts.filter(concert => {\n        const concertDate = new Date(concert.date);\n        return concertDate > now;\n      });\n      \n      const revenue = concerts.reduce((total, concert) => {\n        return total + (parseFloat(concert.amount) || 0);\n      }, 0);\n      \n      const attendance = concerts.reduce((total, concert) => {\n        return total + (parseInt(concert.attendance) || 0);\n      }, 0);\n      \n      setStats({\n        totalConcerts: concerts.length,\n        upcomingConcerts: upcoming.length,\n        totalRevenue: revenue,\n        averageAttendance: concerts.length > 0 ? Math.round(attendance / concerts.length) : 0\n      });\n    }\n  }, [concerts]);\n\n  // Fonction pour formater les montants en euros\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('fr-FR', { style: 'currency', currency: 'EUR' }).format(amount);\n  };\n\n  return (\n    <div className=\"concerts-dashboard\">\n      <h2 className=\"dashboard-title\">Tableau de bord des concerts</h2>\n      \n      <div className=\"stats-container\">\n        <div className=\"stat-card\">\n          <div className=\"stat-icon\">\n            <FaCalendarAlt />\n          </div>\n          <div className=\"stat-content\">\n            <h3>Concerts totaux</h3>\n            <p className=\"stat-value\">{stats.totalConcerts}</p>\n          </div>\n        </div>\n        \n        <div className=\"stat-card\">\n          <div className=\"stat-icon\">\n            <FaCalendarAlt />\n          </div>\n          <div className=\"stat-content\">\n            <h3>Concerts à venir</h3>\n            <p className=\"stat-value\">{stats.upcomingConcerts}</p>\n          </div>\n        </div>\n        \n        <div className=\"stat-card\">\n          <div className=\"stat-icon\">\n            <FaMoneyBillWave />\n          </div>\n          <div className=\"stat-content\">\n            <h3>Revenus totaux</h3>\n            <p className=\"stat-value\">{formatCurrency(stats.totalRevenue)}</p>\n          </div>\n        </div>\n        \n        <div className=\"stat-card\">\n          <div className=\"stat-icon\">\n            <FaUsers />\n          </div>\n          <div className=\"stat-content\">\n            <h3>Audience moyenne</h3>\n            <p className=\"stat-value\">{stats.averageAttendance}</p>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"recent-concerts\">\n        <h3>Concerts récents</h3>\n        <div className=\"concerts-table-container\">\n          <table className=\"concerts-table\">\n            <thead>\n              <tr>\n                <th>Artiste</th>\n                <th>Lieu</th>\n                <th>Date</th>\n                <th>Montant</th>\n                <th>Statut</th>\n              </tr>\n            </thead>\n            <tbody>\n              {concerts && concerts.length > 0 ? (\n                concerts.slice(0, 5).map((concert, index) => (\n                  <tr key={index}>\n                    <td>{concert.artist || 'Artiste inconnu'}</td>\n                    <td>{concert.venue || 'Lieu non spécifié'}</td>\n                    <td>{concert.date || 'Date non spécifiée'}</td>\n                    <td>{formatCurrency(parseFloat(concert.amount) || 0)}</td>\n                    <td>\n                      <span className={`status-badge ${concert.status || 'pending'}`}>\n                        {concert.status || 'En attente'}\n                      </span>\n                    </td>\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <td colSpan=\"5\" className=\"no-data\">Aucun concert trouvé</td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ConcertsDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}