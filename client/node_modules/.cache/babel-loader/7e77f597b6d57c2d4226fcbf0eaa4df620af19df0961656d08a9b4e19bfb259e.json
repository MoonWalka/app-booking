{"ast":null,"code":"import React,{useState,useEffect,useMemo}from'react';import{Link,useNavigate}from'react-router-dom';import'./ContractsTable.css';// Services\nimport{fetchContracts,updateContract,deleteContract}from'../../services/contractsService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ContractsTable=()=>{const[contracts,setContracts]=useState([]);const[loading,setLoading]=useState(true);const navigate=useNavigate();// Récupération des données\nuseEffect(()=>{const loadContracts=async()=>{try{setLoading(true);// Utiliser le service pour récupérer les contrats depuis Firebase\nconst contractsData=await fetchContracts();setContracts(contractsData);setLoading(false);}catch(error){console.error('Erreur lors du chargement des contrats:',error);setLoading(false);}};loadContracts();},[]);// Formatage de la date\nconst formatDate=dateString=>{if(!dateString)return'-';const date=new Date(dateString);return date.toLocaleDateString('fr-FR');};// Formatage du montant\nconst formatAmount=amount=>{if(!amount&&amount!==0)return'-';return new Intl.NumberFormat('fr-FR',{style:'currency',currency:'EUR'}).format(amount);};// Gestion du changement de statut\nconst handleStatusChange=async(contractId,field,newStatus)=>{try{// Trouver le contrat à mettre à jour\nconst contractToUpdate=contracts.find(c=>c.id===contractId);if(!contractToUpdate)return;// Créer une copie du contrat avec le statut mis à jour\nconst updatedContract={...contractToUpdate};// Mettre à jour le statut selon le champ\nswitch(field){case'formStatus':updatedContract.formStatus=newStatus;break;case'contractSentStatus':updatedContract.contractSentStatus=newStatus;break;case'contractSignedStatus':updatedContract.contractSignedStatus=newStatus;break;case'invoiceStatus':updatedContract.invoiceStatus=newStatus;break;default:break;}// Mettre à jour le contrat dans Firebase\nawait updateContract(contractId,updatedContract);// Mettre à jour l'état local\nsetContracts(prevContracts=>prevContracts.map(c=>c.id===contractId?updatedContract:c));}catch(error){console.error('Erreur lors de la mise à jour du statut:',error);}};// Fonction pour visualiser le concert associé\nconst viewConcert=concertId=>{if(concertId){navigate(`/concerts/${concertId}`);}else{alert('Aucun concert associé à ce contrat');}};// Fonction pour supprimer un contrat\nconst handleDeleteContract=async contractId=>{if(window.confirm('Êtes-vous sûr de vouloir supprimer ce contrat ?')){try{await deleteContract(contractId);// Mettre à jour l'état local en supprimant le contrat\nsetContracts(prevContracts=>prevContracts.filter(c=>c.id!==contractId));}catch(error){console.error('Erreur lors de la suppression du contrat:',error);alert('Erreur lors de la suppression du contrat');}}};// Rendu des icônes de statut\nconst renderStatusIcon=(status,contractId,field)=>{let icon,color,title;switch(status){case'validated':icon='fas fa-check-circle';color='#28a745';title='Validé';break;case'pending':icon='fas fa-clock';color='#ffc107';title='À faire';break;case'cancelled':icon='fas fa-times-circle';color='#dc3545';title='Annulé';break;default:icon='fas fa-question-circle';color='#6c757d';title='Non défini';break;}// Déterminer le prochain statut lors du clic\nconst getNextStatus=currentStatus=>{switch(currentStatus){case'validated':return'pending';case'pending':return'cancelled';case'cancelled':return'validated';default:return'validated';}};return/*#__PURE__*/_jsx(\"span\",{className:\"status-icon\",style:{color},title:title,onClick:e=>{e.stopPropagation();handleStatusChange(contractId,field,getNextStatus(status));},children:/*#__PURE__*/_jsx(\"i\",{className:icon})});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",children:\"Chargement des contrats...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"contracts-dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"contracts-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Gestion des Contrats\"}),/*#__PURE__*/_jsx(\"div\",{className:\"header-actions\",children:/*#__PURE__*/_jsxs(Link,{to:\"/concerts/new\",className:\"add-button\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" Nouveau concert\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"contracts-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"col-artist\",children:\"Artiste\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-project\",children:\"Projet\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-venue\",children:\"Lieu (concert)\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-option-date\",children:\"Prise d'option\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-start-date\",children:\"D\\xE9but\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-amount\",children:\"Montant (\\u20AC)\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-status\",children:\"Formulaire\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-status\",children:\"Contrat envoy\\xE9\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-status\",children:\"Contrat sign\\xE9\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-status\",children:\"Facture \\xE9mise\"}),/*#__PURE__*/_jsx(\"th\",{className:\"col-actions\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:contracts.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"11\",className:\"no-data\",children:\"Aucun contrat trouv\\xE9\"})}):contracts.map(contract=>{var _contract$artist;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"col-artist\",children:((_contract$artist=contract.artist)===null||_contract$artist===void 0?void 0:_contract$artist.name)||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"col-project\",children:contract.project||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"col-venue\",children:contract.venue||'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"col-option-date\",children:formatDate(contract.optionDate)}),/*#__PURE__*/_jsx(\"td\",{className:\"col-start-date\",children:formatDate(contract.date)}),/*#__PURE__*/_jsx(\"td\",{className:\"col-amount\",children:formatAmount(contract.amount)}),/*#__PURE__*/_jsx(\"td\",{className:\"col-status status-cell\",children:renderStatusIcon(contract.formStatus||'pending',contract.id,'formStatus')}),/*#__PURE__*/_jsx(\"td\",{className:\"col-status status-cell\",children:renderStatusIcon(contract.contractSentStatus||'pending',contract.id,'contractSentStatus')}),/*#__PURE__*/_jsx(\"td\",{className:\"col-status status-cell\",children:renderStatusIcon(contract.contractSignedStatus||'pending',contract.id,'contractSignedStatus')}),/*#__PURE__*/_jsx(\"td\",{className:\"col-status status-cell\",children:renderStatusIcon(contract.invoiceStatus||'pending',contract.id,'invoiceStatus')}),/*#__PURE__*/_jsxs(\"td\",{className:\"col-actions actions-cell\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn view-btn\",title:\"Voir le concert\",onClick:e=>{e.stopPropagation();viewConcert(contract.concertId);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",title:\"Supprimer\",onClick:e=>{e.stopPropagation();handleDeleteContract(contract.id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]},contract.id);})})]})})]});};export default ContractsTable;","map":{"version":3,"names":["React","useState","useEffect","useMemo","Link","useNavigate","fetchContracts","updateContract","deleteContract","jsx","_jsx","jsxs","_jsxs","ContractsTable","contracts","setContracts","loading","setLoading","navigate","loadContracts","contractsData","error","console","formatDate","dateString","date","Date","toLocaleDateString","formatAmount","amount","Intl","NumberFormat","style","currency","format","handleStatusChange","contractId","field","newStatus","contractToUpdate","find","c","id","updatedContract","formStatus","contractSentStatus","contractSignedStatus","invoiceStatus","prevContracts","map","viewConcert","concertId","alert","handleDeleteContract","window","confirm","filter","renderStatusIcon","status","icon","color","title","getNextStatus","currentStatus","className","onClick","e","stopPropagation","children","to","length","colSpan","contract","_contract$artist","artist","name","project","venue","optionDate"],"sources":["/workspaces/app-booking/client/src/components/contracts/ContractsTable.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport './ContractsTable.css';\n\n// Services\nimport { fetchContracts, updateContract, deleteContract } from '../../services/contractsService';\n\nconst ContractsTable = () => {\n  const [contracts, setContracts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  // Récupération des données\n  useEffect(() => {\n    const loadContracts = async () => {\n      try {\n        setLoading(true);\n        // Utiliser le service pour récupérer les contrats depuis Firebase\n        const contractsData = await fetchContracts();\n        setContracts(contractsData);\n        setLoading(false);\n      } catch (error) {\n        console.error('Erreur lors du chargement des contrats:', error);\n        setLoading(false);\n      }\n    };\n\n    loadContracts();\n  }, []);\n\n  // Formatage de la date\n  const formatDate = (dateString) => {\n    if (!dateString) return '-';\n    const date = new Date(dateString);\n    return date.toLocaleDateString('fr-FR');\n  };\n\n  // Formatage du montant\n  const formatAmount = (amount) => {\n    if (!amount && amount !== 0) return '-';\n    return new Intl.NumberFormat('fr-FR', { style: 'currency', currency: 'EUR' }).format(amount);\n  };\n\n  // Gestion du changement de statut\n  const handleStatusChange = async (contractId, field, newStatus) => {\n    try {\n      // Trouver le contrat à mettre à jour\n      const contractToUpdate = contracts.find(c => c.id === contractId);\n      if (!contractToUpdate) return;\n\n      // Créer une copie du contrat avec le statut mis à jour\n      const updatedContract = { ...contractToUpdate };\n      \n      // Mettre à jour le statut selon le champ\n      switch (field) {\n        case 'formStatus':\n          updatedContract.formStatus = newStatus;\n          break;\n        case 'contractSentStatus':\n          updatedContract.contractSentStatus = newStatus;\n          break;\n        case 'contractSignedStatus':\n          updatedContract.contractSignedStatus = newStatus;\n          break;\n        case 'invoiceStatus':\n          updatedContract.invoiceStatus = newStatus;\n          break;\n        default:\n          break;\n      }\n\n      // Mettre à jour le contrat dans Firebase\n      await updateContract(contractId, updatedContract);\n\n      // Mettre à jour l'état local\n      setContracts(prevContracts => \n        prevContracts.map(c => c.id === contractId ? updatedContract : c)\n      );\n    } catch (error) {\n      console.error('Erreur lors de la mise à jour du statut:', error);\n    }\n  };\n\n  // Fonction pour visualiser le concert associé\n  const viewConcert = (concertId) => {\n    if (concertId) {\n      navigate(`/concerts/${concertId}`);\n    } else {\n      alert('Aucun concert associé à ce contrat');\n    }\n  };\n\n  // Fonction pour supprimer un contrat\n  const handleDeleteContract = async (contractId) => {\n    if (window.confirm('Êtes-vous sûr de vouloir supprimer ce contrat ?')) {\n      try {\n        await deleteContract(contractId);\n        // Mettre à jour l'état local en supprimant le contrat\n        setContracts(prevContracts => prevContracts.filter(c => c.id !== contractId));\n      } catch (error) {\n        console.error('Erreur lors de la suppression du contrat:', error);\n        alert('Erreur lors de la suppression du contrat');\n      }\n    }\n  };\n\n  // Rendu des icônes de statut\n  const renderStatusIcon = (status, contractId, field) => {\n    let icon, color, title;\n\n    switch (status) {\n      case 'validated':\n        icon = 'fas fa-check-circle';\n        color = '#28a745';\n        title = 'Validé';\n        break;\n      case 'pending':\n        icon = 'fas fa-clock';\n        color = '#ffc107';\n        title = 'À faire';\n        break;\n      case 'cancelled':\n        icon = 'fas fa-times-circle';\n        color = '#dc3545';\n        title = 'Annulé';\n        break;\n      default:\n        icon = 'fas fa-question-circle';\n        color = '#6c757d';\n        title = 'Non défini';\n        break;\n    }\n\n    // Déterminer le prochain statut lors du clic\n    const getNextStatus = (currentStatus) => {\n      switch (currentStatus) {\n        case 'validated': return 'pending';\n        case 'pending': return 'cancelled';\n        case 'cancelled': return 'validated';\n        default: return 'validated';\n      }\n    };\n\n    return (\n      <span \n        className=\"status-icon\" \n        style={{ color }}\n        title={title}\n        onClick={(e) => {\n          e.stopPropagation();\n          handleStatusChange(contractId, field, getNextStatus(status));\n        }}\n      >\n        <i className={icon}></i>\n      </span>\n    );\n  };\n\n  if (loading) {\n    return <div className=\"loading-container\">Chargement des contrats...</div>;\n  }\n\n  return (\n    <div className=\"contracts-dashboard\">\n      <div className=\"contracts-header\">\n        <h1>Gestion des Contrats</h1>\n        <div className=\"header-actions\">\n          <Link to=\"/concerts/new\" className=\"add-button\">\n            <i className=\"fas fa-plus\"></i> Nouveau concert\n          </Link>\n        </div>\n      </div>\n      \n      <div className=\"table-responsive\">\n        <table className=\"contracts-table\">\n          <thead>\n            <tr>\n              <th className=\"col-artist\">Artiste</th>\n              <th className=\"col-project\">Projet</th>\n              <th className=\"col-venue\">Lieu (concert)</th>\n              <th className=\"col-option-date\">Prise d'option</th>\n              <th className=\"col-start-date\">Début</th>\n              <th className=\"col-amount\">Montant (€)</th>\n              <th className=\"col-status\">Formulaire</th>\n              <th className=\"col-status\">Contrat envoyé</th>\n              <th className=\"col-status\">Contrat signé</th>\n              <th className=\"col-status\">Facture émise</th>\n              <th className=\"col-actions\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {contracts.length === 0 ? (\n              <tr>\n                <td colSpan=\"11\" className=\"no-data\">Aucun contrat trouvé</td>\n              </tr>\n            ) : (\n              contracts.map(contract => (\n                <tr key={contract.id}>\n                  <td className=\"col-artist\">{contract.artist?.name || '-'}</td>\n                  <td className=\"col-project\">{contract.project || '-'}</td>\n                  <td className=\"col-venue\">{contract.venue || '-'}</td>\n                  <td className=\"col-option-date\">{formatDate(contract.optionDate)}</td>\n                  <td className=\"col-start-date\">{formatDate(contract.date)}</td>\n                  <td className=\"col-amount\">{formatAmount(contract.amount)}</td>\n                  <td className=\"col-status status-cell\">\n                    {renderStatusIcon(contract.formStatus || 'pending', contract.id, 'formStatus')}\n                  </td>\n                  <td className=\"col-status status-cell\">\n                    {renderStatusIcon(contract.contractSentStatus || 'pending', contract.id, 'contractSentStatus')}\n                  </td>\n                  <td className=\"col-status status-cell\">\n                    {renderStatusIcon(contract.contractSignedStatus || 'pending', contract.id, 'contractSignedStatus')}\n                  </td>\n                  <td className=\"col-status status-cell\">\n                    {renderStatusIcon(contract.invoiceStatus || 'pending', contract.id, 'invoiceStatus')}\n                  </td>\n                  <td className=\"col-actions actions-cell\">\n                    <button \n                      className=\"action-btn view-btn\" \n                      title=\"Voir le concert\" \n                      onClick={(e) => { \n                        e.stopPropagation(); \n                        viewConcert(contract.concertId);\n                      }}\n                    >\n                      <i className=\"fas fa-eye\"></i>\n                    </button>\n                    <button \n                      className=\"action-btn delete-btn\" \n                      title=\"Supprimer\" \n                      onClick={(e) => { \n                        e.stopPropagation(); \n                        handleDeleteContract(contract.id);\n                      }}\n                    >\n                      <i className=\"fas fa-trash\"></i>\n                    </button>\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default ContractsTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}