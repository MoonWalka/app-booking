{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{getConcertById,updateConcert,deleteConcert}from'../../services/concertsService';import{getArtists}from'../../services/artistsService';import{getProgrammers}from'../../services/programmersService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ConcertDetail=()=>{var _concert$programmer,_concert$programmer2;const{id}=useParams();const navigate=useNavigate();const[concert,setConcert]=useState(null);const[artists,setArtists]=useState([]);const[programmers,setProgrammers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[isEditing,setIsEditing]=useState(false);const[showLinkModal,setShowLinkModal]=useState(false);const[linkCopied,setLinkCopied]=useState(false);const[formUrl,setFormUrl]=useState('');const[formData,setFormData]=useState({artist:{id:'',name:''},programmer:{id:'',name:'',structure:''},date:'',time:'',venue:'',city:'',price:'',status:'En attente',notes:''});// Statuts possibles pour un concert\nconst statuses=['En attente','Confirmé','Contrat envoyé','Contrat signé','Acompte reçu','Soldé','Annulé'];// Générer les options pour les heures (00h à 23h)\nconst hours=Array.from({length:24},(_,i)=>i<10?`0${i}`:`${i}`);// Générer les options pour les minutes (00 à 59)\nconst minutes=Array.from({length:60},(_,i)=>i<10?`0${i}`:`${i}`);useEffect(()=>{const fetchData=async()=>{try{setLoading(true);console.log(`Tentative de récupération du concert avec l'ID: ${id}`);// Utiliser le service Firebase au lieu de fetch\nconst concertData=await getConcertById(id);if(!concertData){throw new Error('Concert non trouvé');}console.log('Concert récupéré:',concertData);setConcert(concertData);// Initialiser le formulaire avec les données du concert\nsetFormData({artist:concertData.artist||{id:'',name:''},programmer:concertData.programmer||{id:'',name:'',structure:''},date:concertData.date||'',time:concertData.time||'',venue:concertData.venue||'',city:concertData.city||'',price:concertData.price?concertData.price.toString():'',status:concertData.status||'En attente',notes:concertData.notes||''});// Récupérer les artistes pour le formulaire d'édition\nconsole.log(\"Tentative de récupération des artistes...\");const artistsData=await getArtists();console.log(\"Artistes récupérés:\",artistsData);setArtists(artistsData);// Récupérer les programmateurs pour le formulaire d'édition\nconsole.log(\"Tentative de récupération des programmateurs...\");const programmersData=await getProgrammers();console.log(\"Programmateurs récupérés:\",programmersData);setProgrammers(programmersData);// Générer l'URL du formulaire directement avec l'ID du concert\nconst baseUrl=window.location.origin;setFormUrl(`${baseUrl}/#/form/${id}`);setLoading(false);}catch(err){console.error('Erreur lors de la récupération du concert:',err);setError(err.message);setLoading(false);}};fetchData();},[id]);const handleInputChange=e=>{const{name,value}=e.target;if(name==='artist'){const selectedArtist=artists.find(artist=>artist.id===value);setFormData({...formData,artist:{id:selectedArtist.id,name:selectedArtist.name}});}else if(name==='programmer'){const selectedProgrammer=programmers.find(programmer=>programmer.id===value);setFormData({...formData,programmer:{id:selectedProgrammer.id,name:selectedProgrammer.name,structure:selectedProgrammer.structure||''}});}else if(name==='hour'||name==='minute'){// Gérer les sélections d'heure et de minute\nconst currentTime=formData.time?formData.time.split(':'):['00','00'];const hour=name==='hour'?value:currentTime[0];const minute=name==='minute'?value:currentTime[1];setFormData({...formData,time:`${hour}:${minute}`});}else{setFormData({...formData,[name]:value});}};const handleSubmit=async e=>{e.preventDefault();try{setLoading(true);// Convertir price en nombre\nconst concertData={...formData,price:parseFloat(formData.price)||0};console.log(\"Données du concert à mettre à jour:\",concertData);// Utiliser le service Firebase pour mettre à jour le concert\nawait updateConcert(id,concertData);// Récupérer les données mises à jour\nconst updatedData=await getConcertById(id);setConcert(updatedData);setIsEditing(false);setLoading(false);}catch(err){console.error(\"Erreur lors de la mise à jour du concert:\",err);setError(err.message);setLoading(false);}};const handleDelete=async()=>{if(window.confirm('Êtes-vous sûr de vouloir supprimer ce concert ?')){try{setLoading(true);// Utiliser le service Firebase pour supprimer le concert\nawait deleteConcert(id);navigate('/concerts');}catch(err){console.error(\"Erreur lors de la suppression du concert:\",err);setError(err.message);setLoading(false);}}};// Nouvelle fonction simplifiée pour générer le lien du formulaire\nconst handleGenerateFormLink=()=>{try{// Vérifier si le concert a un programmateur associé\nif(!concert.programmer||!concert.programmer.id){alert(\"Ce concert n'a pas de programmateur associé. Veuillez d'abord ajouter un programmateur.\");return;}// Afficher la modal avec le lien direct\nsetShowLinkModal(true);}catch(err){console.error(\"Erreur lors de la génération du lien de formulaire:\",err);setError(err.message);alert(\"Une erreur est survenue lors de la génération du lien de formulaire. Veuillez réessayer.\");}};const handleCopyLink=()=>{if(!formUrl)return;navigator.clipboard.writeText(formUrl).then(()=>{setLinkCopied(true);setTimeout(()=>setLinkCopied(false),3000);}).catch(err=>{console.error(\"Erreur lors de la copie du lien:\",err);alert(\"Impossible de copier le lien. Veuillez le sélectionner et le copier manuellement.\");});};const closeLinkModal=()=>{setShowLinkModal(false);setLinkCopied(false);};if(loading&&!concert)return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Chargement des d\\xE9tails du concert...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[\"Erreur: \",error]});if(!concert)return/*#__PURE__*/_jsx(\"div\",{className:\"not-found\",children:\"Concert non trouv\\xE9\"});// Extraire l'heure et les minutes du temps actuel pour le formulaire d'édition\nconst currentTime=formData.time?formData.time.split(':'):['',''];const currentHour=currentTime[0];const currentMinute=currentTime[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"concert-detail-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"D\\xE9tails du Concert\"}),isEditing?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"edit-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"artist\",children:\"Artiste *\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"artist\",name:\"artist\",value:formData.artist.id,onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner un artiste\"}),artists.map(artist=>/*#__PURE__*/_jsx(\"option\",{value:artist.id,children:artist.name},artist.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"programmer\",children:\"Programmateur *\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"programmer\",name:\"programmer\",value:formData.programmer.id,onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner un programmateur\"}),programmers.map(programmer=>/*#__PURE__*/_jsxs(\"option\",{value:programmer.id,children:[programmer.name,\" (\",programmer.structure||'Structure non spécifiée',\")\"]},programmer.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",children:\"Date *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"date\",name:\"date\",value:formData.date,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group time-selects\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Heure *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-inputs\",children:[/*#__PURE__*/_jsxs(\"select\",{id:\"hour\",name:\"hour\",value:currentHour,onChange:handleInputChange,required:true,\"aria-label\":\"Heure\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Heure\"}),hours.map(hour=>/*#__PURE__*/_jsxs(\"option\",{value:hour,children:[hour,\"h\"]},hour))]}),/*#__PURE__*/_jsxs(\"select\",{id:\"minute\",name:\"minute\",value:currentMinute,onChange:handleInputChange,required:true,\"aria-label\":\"Minute\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Minute\"}),minutes.map(minute=>/*#__PURE__*/_jsx(\"option\",{value:minute,children:minute},minute))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"venue\",children:\"Lieu *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"venue\",name:\"venue\",value:formData.venue,onChange:handleInputChange,required:true,placeholder:\"Nom de la salle ou du lieu\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",children:\"Ville *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"city\",name:\"city\",value:formData.city,onChange:handleInputChange,required:true,placeholder:\"Ville\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",children:\"Prix (\\u20AC)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"price\",name:\"price\",value:formData.price,onChange:handleInputChange,min:\"0\",step:\"0.01\",placeholder:\"Prix en euros\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"status\",children:\"Statut\"}),/*#__PURE__*/_jsx(\"select\",{id:\"status\",name:\"status\",value:formData.status,onChange:handleInputChange,children:statuses.map(status=>/*#__PURE__*/_jsx(\"option\",{value:status,children:status},status))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group full-width\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"notes\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"notes\",name:\"notes\",value:formData.notes,onChange:handleInputChange,rows:\"4\",placeholder:\"Informations compl\\xE9mentaires\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cancel-btn\",onClick:()=>setIsEditing(false),children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"save-btn\",disabled:loading,children:loading?'Enregistrement...':'Enregistrer'})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"concert-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Artiste:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:concert.artist||'Non spécifié'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Programmateur:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"info-value\",children:[((_concert$programmer=concert.programmer)===null||_concert$programmer===void 0?void 0:_concert$programmer.name)||'Non spécifié',((_concert$programmer2=concert.programmer)===null||_concert$programmer2===void 0?void 0:_concert$programmer2.structure)&&` (${concert.programmer.structure})`]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Date:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:concert.date?new Date(concert.date).toLocaleDateString():'Non spécifiée'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Heure:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:concert.time||'Non spécifiée'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Lieu:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:concert.venue||'Non spécifié'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Ville:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:concert.city||'Non spécifiée'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Prix:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:concert.price?`${concert.price} €`:'Non spécifié'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Statut:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:concert.status||'Non spécifié'})]}),concert.notes&&/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"info-label\",children:\"Notes:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"info-value\",children:concert.notes})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"concert-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(true),className:\"edit-btn\",children:\"Modifier\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"delete-btn\",children:\"Supprimer\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGenerateFormLink,className:\"form-link-btn\",children:\"Envoyer le formulaire\"})]})]}),showLinkModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Lien de formulaire\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Partagez ce lien avec le programmateur pour qu'il puisse remplir le formulaire :\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"link-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formUrl,readOnly:true,onClick:e=>e.target.select()}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCopyLink,className:\"copy-btn\",children:linkCopied?'Copié !':'Copier'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:closeLinkModal,className:\"close-btn\",children:\"Fermer\"})]})})]});};export default ConcertDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","getConcertById","updateConcert","deleteConcert","getArtists","getProgrammers","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ConcertDetail","_concert$programmer","_concert$programmer2","id","navigate","concert","setConcert","artists","setArtists","programmers","setProgrammers","loading","setLoading","error","setError","isEditing","setIsEditing","showLinkModal","setShowLinkModal","linkCopied","setLinkCopied","formUrl","setFormUrl","formData","setFormData","artist","name","programmer","structure","date","time","venue","city","price","status","notes","statuses","hours","Array","from","length","_","i","minutes","fetchData","console","log","concertData","Error","toString","artistsData","programmersData","baseUrl","window","location","origin","err","message","handleInputChange","e","value","target","selectedArtist","find","selectedProgrammer","currentTime","split","hour","minute","handleSubmit","preventDefault","parseFloat","updatedData","handleDelete","confirm","handleGenerateFormLink","alert","handleCopyLink","navigator","clipboard","writeText","then","setTimeout","catch","closeLinkModal","className","children","currentHour","currentMinute","onSubmit","htmlFor","onChange","required","map","type","placeholder","min","step","rows","onClick","disabled","Date","toLocaleDateString","readOnly","select"],"sources":["/workspaces/app-booking/client/src/components/concerts/ConcertDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { getConcertById, updateConcert, deleteConcert } from '../../services/concertsService';\nimport { getArtists } from '../../services/artistsService';\nimport { getProgrammers } from '../../services/programmersService';\n\n\nconst ConcertDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [concert, setConcert] = useState(null);\n  const [artists, setArtists] = useState([]);\n  const [programmers, setProgrammers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [showLinkModal, setShowLinkModal] = useState(false);\n  const [linkCopied, setLinkCopied] = useState(false);\n  const [formUrl, setFormUrl] = useState('');\n  const [formData, setFormData] = useState({\n    artist: { id: '', name: '' },\n    programmer: { id: '', name: '', structure: '' },\n    date: '',\n    time: '',\n    venue: '',\n    city: '',\n    price: '',\n    status: 'En attente',\n    notes: ''\n  });\n\n  // Statuts possibles pour un concert\n  const statuses = [\n    'En attente',\n    'Confirmé',\n    'Contrat envoyé',\n    'Contrat signé',\n    'Acompte reçu',\n    'Soldé',\n    'Annulé'\n  ];\n  \n  // Générer les options pour les heures (00h à 23h)\n  const hours = Array.from({ length: 24 }, (_, i) => \n    i < 10 ? `0${i}` : `${i}`\n  );\n  \n  // Générer les options pour les minutes (00 à 59)\n  const minutes = Array.from({ length: 60 }, (_, i) => \n    i < 10 ? `0${i}` : `${i}`\n  );\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        console.log(`Tentative de récupération du concert avec l'ID: ${id}`);\n        \n        // Utiliser le service Firebase au lieu de fetch\n        const concertData = await getConcertById(id);\n        \n        if (!concertData) {\n          throw new Error('Concert non trouvé');\n        }\n        \n        console.log('Concert récupéré:', concertData);\n        setConcert(concertData);\n        \n        // Initialiser le formulaire avec les données du concert\n        setFormData({\n          artist: concertData.artist || { id: '', name: '' },\n          programmer: concertData.programmer || { id: '', name: '', structure: '' },\n          date: concertData.date || '',\n          time: concertData.time || '',\n          venue: concertData.venue || '',\n          city: concertData.city || '',\n          price: concertData.price ? concertData.price.toString() : '',\n          status: concertData.status || 'En attente',\n          notes: concertData.notes || ''\n        });\n        \n        // Récupérer les artistes pour le formulaire d'édition\n        console.log(\"Tentative de récupération des artistes...\");\n        const artistsData = await getArtists();\n        console.log(\"Artistes récupérés:\", artistsData);\n        setArtists(artistsData);\n        \n        // Récupérer les programmateurs pour le formulaire d'édition\n        console.log(\"Tentative de récupération des programmateurs...\");\n        const programmersData = await getProgrammers();\n        console.log(\"Programmateurs récupérés:\", programmersData);\n        setProgrammers(programmersData);\n        \n        // Générer l'URL du formulaire directement avec l'ID du concert\n        const baseUrl = window.location.origin;\n        setFormUrl(`${baseUrl}/#/form/${id}`);\n        \n        setLoading(false);\n      } catch (err) {\n        console.error('Erreur lors de la récupération du concert:', err);\n        setError(err.message);\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [id]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    \n    if (name === 'artist') {\n      const selectedArtist = artists.find(artist => artist.id === value);\n      setFormData({\n        ...formData,\n        artist: {\n          id: selectedArtist.id,\n          name: selectedArtist.name\n        }\n      });\n    } else if (name === 'programmer') {\n      const selectedProgrammer = programmers.find(programmer => programmer.id === value);\n      setFormData({\n        ...formData,\n        programmer: {\n          id: selectedProgrammer.id,\n          name: selectedProgrammer.name,\n          structure: selectedProgrammer.structure || ''\n        }\n      });\n    } else if (name === 'hour' || name === 'minute') {\n      // Gérer les sélections d'heure et de minute\n      const currentTime = formData.time ? formData.time.split(':') : ['00', '00'];\n      const hour = name === 'hour' ? value : currentTime[0];\n      const minute = name === 'minute' ? value : currentTime[1];\n      \n      setFormData({\n        ...formData,\n        time: `${hour}:${minute}`\n      });\n    } else {\n      setFormData({\n        ...formData,\n        [name]: value\n      });\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      \n      // Convertir price en nombre\n      const concertData = {\n        ...formData,\n        price: parseFloat(formData.price) || 0\n      };\n      \n      console.log(\"Données du concert à mettre à jour:\", concertData);\n      \n      // Utiliser le service Firebase pour mettre à jour le concert\n      await updateConcert(id, concertData);\n      \n      // Récupérer les données mises à jour\n      const updatedData = await getConcertById(id);\n      setConcert(updatedData);\n      \n      setIsEditing(false);\n      setLoading(false);\n    } catch (err) {\n      console.error(\"Erreur lors de la mise à jour du concert:\", err);\n      setError(err.message);\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (window.confirm('Êtes-vous sûr de vouloir supprimer ce concert ?')) {\n      try {\n        setLoading(true);\n        \n        // Utiliser le service Firebase pour supprimer le concert\n        await deleteConcert(id);\n        \n        navigate('/concerts');\n      } catch (err) {\n        console.error(\"Erreur lors de la suppression du concert:\", err);\n        setError(err.message);\n        setLoading(false);\n      }\n    }\n  };\n\n  // Nouvelle fonction simplifiée pour générer le lien du formulaire\n  const handleGenerateFormLink = () => {\n    try {\n      // Vérifier si le concert a un programmateur associé\n      if (!concert.programmer || !concert.programmer.id) {\n        alert(\"Ce concert n'a pas de programmateur associé. Veuillez d'abord ajouter un programmateur.\");\n        return;\n      }\n      \n      // Afficher la modal avec le lien direct\n      setShowLinkModal(true);\n    } catch (err) {\n      console.error(\"Erreur lors de la génération du lien de formulaire:\", err);\n      setError(err.message);\n      alert(\"Une erreur est survenue lors de la génération du lien de formulaire. Veuillez réessayer.\");\n    }\n  };\n\n  const handleCopyLink = () => {\n    if (!formUrl) return;\n    \n    navigator.clipboard.writeText(formUrl)\n      .then(() => {\n        setLinkCopied(true);\n        setTimeout(() => setLinkCopied(false), 3000);\n      })\n      .catch(err => {\n        console.error(\"Erreur lors de la copie du lien:\", err);\n        alert(\"Impossible de copier le lien. Veuillez le sélectionner et le copier manuellement.\");\n      });\n  };\n\n  const closeLinkModal = () => {\n    setShowLinkModal(false);\n    setLinkCopied(false);\n  };\n\n  if (loading && !concert) return <div className=\"loading\">Chargement des détails du concert...</div>;\n  if (error) return <div className=\"error-message\">Erreur: {error}</div>;\n  if (!concert) return <div className=\"not-found\">Concert non trouvé</div>;\n\n  // Extraire l'heure et les minutes du temps actuel pour le formulaire d'édition\n  const currentTime = formData.time ? formData.time.split(':') : ['', ''];\n  const currentHour = currentTime[0];\n  const currentMinute = currentTime[1];\n\n  return (\n    <div className=\"concert-detail-container\">\n      <h2>Détails du Concert</h2>\n      \n      {isEditing ? (\n        <form onSubmit={handleSubmit} className=\"edit-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"artist\">Artiste *</label>\n            <select\n              id=\"artist\"\n              name=\"artist\"\n              value={formData.artist.id}\n              onChange={handleInputChange}\n              required\n            >\n              <option value=\"\">Sélectionner un artiste</option>\n              {artists.map(artist => (\n                <option key={artist.id} value={artist.id}>{artist.name}</option>\n              ))}\n            </select>\n          </div>\n          \n          <div className=\"form-group\">\n            <label htmlFor=\"programmer\">Programmateur *</label>\n            <select\n              id=\"programmer\"\n              name=\"programmer\"\n              value={formData.programmer.id}\n              onChange={handleInputChange}\n              required\n            >\n              <option value=\"\">Sélectionner un programmateur</option>\n              {programmers.map(programmer => (\n                <option key={programmer.id} value={programmer.id}>\n                  {programmer.name} ({programmer.structure || 'Structure non spécifiée'})\n                </option>\n              ))}\n            </select>\n          </div>\n          \n          <div className=\"form-group\">\n            <label htmlFor=\"date\">Date *</label>\n            <input\n              type=\"date\"\n              id=\"date\"\n              name=\"date\"\n              value={formData.date}\n              onChange={handleInputChange}\n              required\n            />\n          </div>\n          \n          <div className=\"form-group time-selects\">\n            <label>Heure *</label>\n            <div className=\"time-inputs\">\n              <select\n                id=\"hour\"\n                name=\"hour\"\n                value={currentHour}\n                onChange={handleInputChange}\n                required\n                aria-label=\"Heure\"\n              >\n                <option value=\"\">Heure</option>\n                {hours.map(hour => (\n                  <option key={hour} value={hour}>{hour}h</option>\n                ))}\n              </select>\n              \n              <select\n                id=\"minute\"\n                name=\"minute\"\n                value={currentMinute}\n                onChange={handleInputChange}\n                required\n                aria-label=\"Minute\"\n              >\n                <option value=\"\">Minute</option>\n                {minutes.map(minute => (\n                  <option key={minute} value={minute}>{minute}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n          \n          <div className=\"form-group\">\n            <label htmlFor=\"venue\">Lieu *</label>\n            <input\n              type=\"text\"\n              id=\"venue\"\n              name=\"venue\"\n              value={formData.venue}\n              onChange={handleInputChange}\n              required\n              placeholder=\"Nom de la salle ou du lieu\"\n            />\n          </div>\n          \n          <div className=\"form-group\">\n            <label htmlFor=\"city\">Ville *</label>\n            <input\n              type=\"text\"\n              id=\"city\"\n              name=\"city\"\n              value={formData.city}\n              onChange={handleInputChange}\n              required\n              placeholder=\"Ville\"\n            />\n          </div>\n          \n          <div className=\"form-group\">\n            <label htmlFor=\"price\">Prix (€)</label>\n            <input\n              type=\"number\"\n              id=\"price\"\n              name=\"price\"\n              value={formData.price}\n              onChange={handleInputChange}\n              min=\"0\"\n              step=\"0.01\"\n              placeholder=\"Prix en euros\"\n            />\n          </div>\n          \n          <div className=\"form-group\">\n            <label htmlFor=\"status\">Statut</label>\n            <select\n              id=\"status\"\n              name=\"status\"\n              value={formData.status}\n              onChange={handleInputChange}\n            >\n              {statuses.map(status => (\n                <option key={status} value={status}>{status}</option>\n              ))}\n            </select>\n          </div>\n          \n          <div className=\"form-group full-width\">\n            <label htmlFor=\"notes\">Notes</label>\n            <textarea\n              id=\"notes\"\n              name=\"notes\"\n              value={formData.notes}\n              onChange={handleInputChange}\n              rows=\"4\"\n              placeholder=\"Informations complémentaires\"\n            ></textarea>\n          </div>\n          \n          <div className=\"form-actions\">\n            <button type=\"button\" className=\"cancel-btn\" onClick={() => setIsEditing(false)}>\n              Annuler\n            </button>\n            <button type=\"submit\" className=\"save-btn\" disabled={loading}>\n              {loading ? 'Enregistrement...' : 'Enregistrer'}\n            </button>\n          </div>\n        </form>\n      ) : (\n        <>\n          <div className=\"concert-info\">\n            <div className=\"info-row\">\n              <span className=\"info-label\">Artiste:</span>\n              <span className=\"info-value\">{concert.artist || 'Non spécifié'}</span>\n            </div>\n            \n            <div className=\"info-row\">\n              <span className=\"info-label\">Programmateur:</span>\n              <span className=\"info-value\">\n                {concert.programmer?.name || 'Non spécifié'}\n                {concert.programmer?.structure && ` (${concert.programmer.structure})`}\n              </span>\n            </div>\n            \n            <div className=\"info-row\">\n              <span className=\"info-label\">Date:</span>\n              <span className=\"info-value\">\n                {concert.date ? new Date(concert.date).toLocaleDateString() : 'Non spécifiée'}\n              </span>\n            </div>\n            \n            <div className=\"info-row\">\n              <span className=\"info-label\">Heure:</span>\n              <span className=\"info-value\">{concert.time || 'Non spécifiée'}</span>\n            </div>\n            \n            <div className=\"info-row\">\n              <span className=\"info-label\">Lieu:</span>\n              <span className=\"info-value\">{concert.venue || 'Non spécifié'}</span>\n            </div>\n            \n            <div className=\"info-row\">\n              <span className=\"info-label\">Ville:</span>\n              <span className=\"info-value\">{concert.city || 'Non spécifiée'}</span>\n            </div>\n            \n            <div className=\"info-row\">\n              <span className=\"info-label\">Prix:</span>\n              <span className=\"info-value\">\n                {concert.price ? `${concert.price} €` : 'Non spécifié'}\n              </span>\n            </div>\n            \n            <div className=\"info-row\">\n              <span className=\"info-label\">Statut:</span>\n              <span className=\"info-value\">{concert.status || 'Non spécifié'}</span>\n            </div>\n            \n            {concert.notes && (\n              <div className=\"info-row\">\n                <span className=\"info-label\">Notes:</span>\n                <span className=\"info-value\">{concert.notes}</span>\n              </div>\n            )}\n          </div>\n          \n          <div className=\"concert-actions\">\n            <button onClick={() => setIsEditing(true)} className=\"edit-btn\">\n              Modifier\n            </button>\n            <button onClick={handleDelete} className=\"delete-btn\">\n              Supprimer\n            </button>\n            <button onClick={handleGenerateFormLink} className=\"form-link-btn\">\n              Envoyer le formulaire\n            </button>\n          </div>\n        </>\n      )}\n      \n      {/* Modal pour afficher le lien du formulaire */}\n      {showLinkModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <h3>Lien de formulaire</h3>\n            <p>Partagez ce lien avec le programmateur pour qu'il puisse remplir le formulaire :</p>\n            \n            <div className=\"link-container\">\n              <input\n                type=\"text\"\n                value={formUrl}\n                readOnly\n                onClick={(e) => e.target.select()}\n              />\n              <button onClick={handleCopyLink} className=\"copy-btn\">\n                {linkCopied ? 'Copié !' : 'Copier'}\n              </button>\n            </div>\n            \n            <button onClick={closeLinkModal} className=\"close-btn\">\n              Fermer\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ConcertDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}