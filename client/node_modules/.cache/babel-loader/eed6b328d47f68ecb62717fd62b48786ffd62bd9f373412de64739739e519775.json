{"ast":null,"code":"import React from'react';import{Routes,Route,Navigate}from'react-router-dom';import{useAuth}from'./context/AuthContext';import'./App.css';// Composants\nimport Layout from'./components/common/Layout';import Login from'./components/auth/Login';import NotFound from'./components/common/NotFound';import Dashboard from'./components/dashboard/Dashboard';import ProgrammersList from'./components/programmers/ProgrammersList';import ProgrammerDetail from'./components/programmers/ProgrammerDetail';import ConcertsList from'./components/concerts/ConcertsList';import ConcertDetail from'./components/concerts/ConcertDetail';import ArtistsList from'./components/artists/ArtistsList';import ArtistDetail from'./components/artists/ArtistDetail';import EmailSystem from'./components/emails/EmailSystem';import DocumentsManager from'./components/documents/DocumentsManager';import TestFirebaseIntegration from'./components/tests/TestFirebaseIntegration';import ArtistEdit from'./components/artists/ArtistEdit';import ContractsTable from'./components/contracts/ContractsTable';import FormValidationList from'./components/formValidation/FormValidationList';// Composants publics pour les formulaires\n// Importation conditionnelle pour éviter les erreurs si les fichiers n'existent pas\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";let PublicFormPage=()=>/*#__PURE__*/_jsx(\"div\",{children:\"Formulaire non disponible\"});let FormSubmittedPage=()=>/*#__PURE__*/_jsx(\"div\",{children:\"Formulaire soumis\"});try{// Tentative d'importation des composants publics\nconst PublicFormPageModule=require('./components/public/PublicFormPage');const FormSubmittedPageModule=require('./components/public/FormSubmittedPage');PublicFormPage=PublicFormPageModule.default||PublicFormPageModule;FormSubmittedPage=FormSubmittedPageModule.default||FormSubmittedPageModule;console.log('Composants de formulaires publics chargés avec succès');}catch(error){console.warn('Impossible de charger les composants de formulaires publics:',error.message);}// Route protégée\nconst ProtectedRoute=_ref=>{let{children}=_ref;const{isAuthenticated,loading,bypassEnabled}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Chargement...\"});}// Si le mode bypass est activé, on autorise l'accès même sans authentification\nif(bypassEnabled){console.log('Mode bypass d\\'authentification activé - Accès autorisé');return children;}if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}return children;};function App(){const{bypassEnabled}=useAuth();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/form/:token\",element:/*#__PURE__*/_jsx(PublicFormPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/form-submitted\",element:/*#__PURE__*/_jsx(FormSubmittedPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:bypassEnabled?/*#__PURE__*/_jsx(Navigate,{to:\"/\"}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{})}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"contrats\",element:/*#__PURE__*/_jsx(ContractsTable,{})}),/*#__PURE__*/_jsx(Route,{path:\"factures\",element:/*#__PURE__*/_jsx(\"div\",{children:\"Module Factures \\xE0 venir\"})}),/*#__PURE__*/_jsx(Route,{path:\"programmateurs\",element:/*#__PURE__*/_jsx(ProgrammersList,{})}),/*#__PURE__*/_jsx(Route,{path:\"programmateurs/:id\",element:/*#__PURE__*/_jsx(ProgrammerDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"concerts\",element:/*#__PURE__*/_jsx(ConcertsList,{})}),/*#__PURE__*/_jsx(Route,{path:\"concerts/:id\",element:/*#__PURE__*/_jsx(ConcertDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"artistes\",element:/*#__PURE__*/_jsx(ArtistsList,{})}),/*#__PURE__*/_jsx(Route,{path:\"artistes/:id\",element:/*#__PURE__*/_jsx(ArtistDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"emails\",element:/*#__PURE__*/_jsx(EmailSystem,{})}),/*#__PURE__*/_jsx(Route,{path:\"documents\",element:/*#__PURE__*/_jsx(DocumentsManager,{})}),/*#__PURE__*/_jsx(Route,{path:\"validation-formulaires\",element:/*#__PURE__*/_jsx(FormValidationList,{})}),/*#__PURE__*/_jsx(Route,{path:\"tests\",element:/*#__PURE__*/_jsx(TestFirebaseIntegration,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})})]}),bypassEnabled&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',bottom:0,left:0,right:0,backgroundColor:'#fff3cd',color:'#856404',padding:'10px',textAlign:'center',borderTop:'1px solid #ffeeba',zIndex:1000},children:\"Mode test activ\\xE9 - Authentification d\\xE9sactiv\\xE9e\"})]});}export default App;","map":{"version":3,"names":["React","Routes","Route","Navigate","useAuth","Layout","Login","NotFound","Dashboard","ProgrammersList","ProgrammerDetail","ConcertsList","ConcertDetail","ArtistsList","ArtistDetail","EmailSystem","DocumentsManager","TestFirebaseIntegration","ArtistEdit","ContractsTable","FormValidationList","jsx","_jsx","jsxs","_jsxs","PublicFormPage","children","FormSubmittedPage","PublicFormPageModule","require","FormSubmittedPageModule","default","console","log","error","warn","message","ProtectedRoute","_ref","isAuthenticated","loading","bypassEnabled","to","App","className","path","element","index","style","position","bottom","left","right","backgroundColor","color","padding","textAlign","borderTop","zIndex"],"sources":["/workspaces/app-booking/client/src/App.js"],"sourcesContent":["import React from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport { useAuth } from './context/AuthContext';\nimport './App.css';\n\n// Composants\nimport Layout from './components/common/Layout';\nimport Login from './components/auth/Login';\nimport NotFound from './components/common/NotFound';\nimport Dashboard from './components/dashboard/Dashboard';\nimport ProgrammersList from './components/programmers/ProgrammersList';\nimport ProgrammerDetail from './components/programmers/ProgrammerDetail';\nimport ConcertsList from './components/concerts/ConcertsList';\nimport ConcertDetail from './components/concerts/ConcertDetail';\nimport ArtistsList from './components/artists/ArtistsList';\nimport ArtistDetail from './components/artists/ArtistDetail';\nimport EmailSystem from './components/emails/EmailSystem';\nimport DocumentsManager from './components/documents/DocumentsManager';\nimport TestFirebaseIntegration from './components/tests/TestFirebaseIntegration';\nimport ArtistEdit from './components/artists/ArtistEdit';\nimport ContractsTable from './components/contracts/ContractsTable';\nimport FormValidationList from './components/formValidation/FormValidationList';\n\n// Composants publics pour les formulaires\n// Importation conditionnelle pour éviter les erreurs si les fichiers n'existent pas\nlet PublicFormPage = () => <div>Formulaire non disponible</div>;\nlet FormSubmittedPage = () => <div>Formulaire soumis</div>;\n\ntry {\n  // Tentative d'importation des composants publics\n  const PublicFormPageModule = require('./components/public/PublicFormPage');\n  const FormSubmittedPageModule = require('./components/public/FormSubmittedPage');\n  \n  PublicFormPage = PublicFormPageModule.default || PublicFormPageModule;\n  FormSubmittedPage = FormSubmittedPageModule.default || FormSubmittedPageModule;\n  \n  console.log('Composants de formulaires publics chargés avec succès');\n} catch (error) {\n  console.warn('Impossible de charger les composants de formulaires publics:', error.message);\n}\n\n// Route protégée\nconst ProtectedRoute = ({ children }) => {\n  const { isAuthenticated, loading, bypassEnabled } = useAuth();\n  \n  if (loading) {\n    return <div>Chargement...</div>;\n  }\n  \n  // Si le mode bypass est activé, on autorise l'accès même sans authentification\n  if (bypassEnabled) {\n    console.log('Mode bypass d\\'authentification activé - Accès autorisé');\n    return children;\n  }\n  \n  if (!isAuthenticated) {\n    return <Navigate to=\"/login\" />;\n  }\n  \n  return children;\n};\n\nfunction App() {\n  const { bypassEnabled } = useAuth();\n\n  return (\n    <div className=\"App\">\n      <Routes>\n        {/* Routes publiques pour les formulaires - HORS AUTHENTIFICATION */}\n        <Route path=\"/form/:token\" element={<PublicFormPage />} />\n        <Route path=\"/form-submitted\" element={<FormSubmittedPage />} />\n        \n        {/* Si le mode bypass est activé, la page de login redirige vers le dashboard */}\n        <Route path=\"/login\" element={\n          bypassEnabled ? <Navigate to=\"/\" /> : <Login />\n        } />\n        \n        <Route path=\"/\" element={\n          <ProtectedRoute>\n            <Layout />\n          </ProtectedRoute>\n        }>\n          <Route index element={<Dashboard />} />\n          <Route path=\"contrats\" element={<ContractsTable />} />\n          <Route path=\"factures\" element={<div>Module Factures à venir</div>} />\n          <Route path=\"programmateurs\" element={<ProgrammersList />} />\n          <Route path=\"programmateurs/:id\" element={<ProgrammerDetail />} />\n          <Route path=\"concerts\" element={<ConcertsList />} />\n          <Route path=\"concerts/:id\" element={<ConcertDetail />} />\n          <Route path=\"artistes\" element={<ArtistsList />} />\n          <Route path=\"artistes/:id\" element={<ArtistDetail />} />\n          <Route path=\"emails\" element={<EmailSystem />} />\n          <Route path=\"documents\" element={<DocumentsManager />} />\n          <Route path=\"validation-formulaires\" element={<FormValidationList />} />\n          <Route path=\"tests\" element={<TestFirebaseIntegration />} />\n        </Route>\n        \n        <Route path=\"*\" element={<NotFound />} />\n      </Routes>\n      \n      {/* Bannière d'information sur le mode bypass */}\n      {bypassEnabled && (\n        <div style={{\n          position: 'fixed',\n          bottom: 0,\n          left: 0,\n          right: 0,\n          backgroundColor: '#fff3cd',\n          color: '#856404',\n          padding: '10px',\n          textAlign: 'center',\n          borderTop: '1px solid #ffeeba',\n          zIndex: 1000\n        }}>\n          Mode test activé - Authentification désactivée\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}