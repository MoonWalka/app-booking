{"ast":null,"code":"// client/src/components/artists/ArtistDetail.js\nimport React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ArtistDetail=()=>{const{id}=useParams();const navigate=useNavigate();const[artist,setArtist]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchArtist=async()=>{try{setLoading(true);const response=await fetch(`/api/artists/${id}`);if(!response.ok){throw new Error('Erreur lors de la récupération des détails de l\\'artiste');}const data=await response.json();setArtist(data);setLoading(false);}catch(err){setError(err.message);setLoading(false);}};fetchArtist();},[id]);const handleDelete=async()=>{if(window.confirm('Êtes-vous sûr de vouloir supprimer cet artiste ?')){try{const response=await fetch(`/api/artists/${id}`,{method:'DELETE'});if(!response.ok){throw new Error('Erreur lors de la suppression de l\\'artiste');}navigate('/artistes');}catch(err){setError(err.message);}}};if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Chargement des d\\xE9tails de l'artiste...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Erreur: \",error]});if(!artist)return/*#__PURE__*/_jsx(\"div\",{children:\"Artiste non trouv\\xE9\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"artist-detail-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:artist.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"artist-info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Genre:\"}),\" \",artist.genre]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Origine:\"}),\" \",artist.origin]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Biographie:\"}),\" \",artist.bio]}),artist.website&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Site web:\"}),' ',/*#__PURE__*/_jsx(\"a\",{href:artist.website,target:\"_blank\",rel:\"noopener noreferrer\",children:artist.website})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"concerts-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Concerts programm\\xE9s\"}),artist.concerts&&artist.concerts.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"concerts-list\",children:artist.concerts.map(concert=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",new Date(concert.date).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Lieu:\"}),\" \",concert.venue]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ville:\"}),\" \",concert.city]})]},concert._id))}):/*#__PURE__*/_jsx(\"p\",{children:\"Aucun concert programm\\xE9 pour cet artiste.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"artist-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(`/artistes/modifier/${id}`),className:\"edit-btn\",children:\"Modifier\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"delete-btn\",children:\"Supprimer\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/artistes'),className:\"back-btn\",children:\"Retour \\xE0 la liste\"})]})]});};export default ArtistDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","ArtistDetail","id","navigate","artist","setArtist","loading","setLoading","error","setError","fetchArtist","response","fetch","ok","Error","data","json","err","message","handleDelete","window","confirm","method","children","className","name","genre","origin","bio","website","href","target","rel","concerts","length","map","concert","Date","date","toLocaleDateString","venue","city","_id","onClick"],"sources":["/workspaces/app-booking/client/src/components/artists/ArtistDetail.js"],"sourcesContent":["// client/src/components/artists/ArtistDetail.js\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\n\nconst ArtistDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [artist, setArtist] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchArtist = async () => {\n      try {\n        setLoading(true);\n        const response = await fetch(`/api/artists/${id}`);\n        if (!response.ok) {\n          throw new Error('Erreur lors de la récupération des détails de l\\'artiste');\n        }\n        const data = await response.json();\n        setArtist(data);\n        setLoading(false);\n      } catch (err) {\n        setError(err.message);\n        setLoading(false);\n      }\n    };\n\n    fetchArtist();\n  }, [id]);\n\n  const handleDelete = async () => {\n    if (window.confirm('Êtes-vous sûr de vouloir supprimer cet artiste ?')) {\n      try {\n        const response = await fetch(`/api/artists/${id}`, {\n          method: 'DELETE',\n        });\n        if (!response.ok) {\n          throw new Error('Erreur lors de la suppression de l\\'artiste');\n        }\n        navigate('/artistes');\n      } catch (err) {\n        setError(err.message);\n      }\n    }\n  };\n\n  if (loading) return <div>Chargement des détails de l'artiste...</div>;\n  if (error) return <div>Erreur: {error}</div>;\n  if (!artist) return <div>Artiste non trouvé</div>;\n\n  return (\n    <div className=\"artist-detail-container\">\n      <h2>{artist.name}</h2>\n      <div className=\"artist-info\">\n        <p><strong>Genre:</strong> {artist.genre}</p>\n        <p><strong>Origine:</strong> {artist.origin}</p>\n        <p><strong>Biographie:</strong> {artist.bio}</p>\n        {artist.website && (\n          <p>\n            <strong>Site web:</strong>{' '}\n            <a href={artist.website} target=\"_blank\" rel=\"noopener noreferrer\">\n              {artist.website}\n            </a>\n          </p>\n        )}\n      </div>\n\n      <div className=\"concerts-section\">\n        <h3>Concerts programmés</h3>\n        {artist.concerts && artist.concerts.length > 0 ? (\n          <ul className=\"concerts-list\">\n            {artist.concerts.map((concert) => (\n              <li key={concert._id}>\n                <p><strong>Date:</strong> {new Date(concert.date).toLocaleDateString()}</p>\n                <p><strong>Lieu:</strong> {concert.venue}</p>\n                <p><strong>Ville:</strong> {concert.city}</p>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>Aucun concert programmé pour cet artiste.</p>\n        )}\n      </div>\n\n      <div className=\"artist-actions\">\n        <button\n          onClick={() => navigate(`/artistes/modifier/${id}`)}\n          className=\"edit-btn\"\n        >\n          Modifier\n        </button>\n        <button onClick={handleDelete} className=\"delete-btn\">\n          Supprimer\n        </button>\n        <button onClick={() => navigate('/artistes')} className=\"back-btn\">\n          Retour à la liste\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ArtistDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}